import './polyfills.server.mjs';
import{a as j}from"./chunk-5OC4NN67.mjs";import{l as M}from"./chunk-BGRMLFYS.mjs";import"./chunk-IXPLAV6M.mjs";import{A as F}from"./chunk-KUJODEEJ.mjs";import"./chunk-ZOTQB4HH.mjs";import"./chunk-O7YXO3UM.mjs";import{Ab as P,Bb as s,Cb as d,Db as I,Gb as S,Hb as O,Jb as w,Kb as C,Lb as l,Oa as L,Ra as a,Vb as r,W as b,Wb as k,Xb as f,Zb as V,aa as p,ab as _,ba as u,hb as h,sb as y,tb as g,ub as D,vb as T,wb as Q,xb as E,yb as c,zb as m}from"./chunk-UZBX7VKB.mjs";import"./chunk-X2SEQXRR.mjs";var x=class i{product={};removeItem=new h;updateQty=new h;onRemoveItem(){this.removeItem.emit(this.product.product._id)}onChangeQty(e){this.updateQty.emit({id:this.product.product._id,count:e})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["app-cart-component"]],inputs:{product:"product"},outputs:{removeItem:"removeItem",updateQty:"updateQty"},decls:19,vars:4,consts:[[1,"grid","grid-cols-12","my-3","shadow-lg","bg-gray-100"],[1,"col-span-1"],["alt","",1,"w-full","shadow-sm",3,"src"],[1,"flex","justify-between","col-span-11","px-3"],[1,"line-clamp-1"],[1,"my-3","text-main"],[1,"bg-main","text-white","px-4","py-2","font-bold","rounded","cursor-pointer","hover:bg-main/80",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"flex","items-center"],[1,"border","border-main","text-black","px-2","py-1","font-bold","rounded","cursor-pointer","hover:bg-main/80","hover:text-white",3,"click"],[1,"px-3","my-auto"]],template:function(t,n){t&1&&(s(0,"div",0)(1,"div",1),I(2,"img",2),d(),s(3,"div",3)(4,"div")(5,"h2",4),r(6),d(),s(7,"p",5),r(8),d(),s(9,"button",6),C("click",function(){return n.onRemoveItem()}),I(10,"i",7),r(11,"remove "),d()(),s(12,"div",8)(13,"button",9),C("click",function(){return n.onChangeQty(n.product.count+1)}),r(14," + "),d(),s(15,"span",10),r(16),d(),s(17,"button",9),C("click",function(){return n.onChangeQty(n.product.count-1)}),r(18," - "),d()()()()),t&2&&(a(2),O("src",n.product.product.imageCover,L),a(4),k(n.product.product.title),a(2),f("price: ",n.product.price," EGP"),a(8),k(n.product.count))},encapsulation:2})};var G=i=>[i];function U(i,e){if(i&1){let t=S();c(0,"app-cart-component",11),w("updateQty",function(o){p(t);let v=l(3);return u(v.updateQuntity(o.id,o.count))})("removeItem",function(o){p(t);let v=l(3);return u(v.removeItem(o))}),m()}if(i&2){let t=e.$implicit;E("product",t)}}function z(i,e){if(i&1){let t=S();c(0,"section",0)(1,"div",2)(2,"div")(3,"h1",3),r(4,"Shop Cart:"),m(),c(5,"p",4),r(6),m()(),c(7,"div")(8,"button",5),w("click",function(){p(t);let o=l(2);return u(o.clearAll())}),r(9," Clear All "),m()()(),T(10,U,1,1,"app-cart-component",6,D),c(12,"div",7)(13,"button",8),r(14," Contain Shopping "),m(),c(15,"button",9),r(16," Check Out "),P(17,"i",10),m()()()}if(i&2){let t=l(2);a(6),f("total cart price:",t.cartDetails.data.totalCartPrice," EGP"),a(4),Q(t.cartDetails.data.products),a(5),E("routerLink",V(2,G,"/address/"+t.cartDetails.cartId))}}function B(i,e){i&1&&(c(0,"div",1)(1,"p",12),r(2,"Your Cart Is Empty"),m()())}function Y(i,e){if(i&1&&y(0,z,18,4,"section",0)(1,B,3,0,"div",1),i&2){let t=l();g(t.cartDetails.numOfCartItems!=0?0:1)}}var N=class i{cartDetails={};islaoded=!1;cartServices=b(j);toastr=b(M);ngOnInit(){this.laodcartItem()}laodcartItem(){this.cartServices.getUserCart().subscribe({next:e=>{this.cartDetails=e,this.islaoded=!0}})}removeItem(e){this.cartServices.removeItem(e).subscribe({next:t=>{this.toastr.error("Product Deleted!"),this.cartDetails=t,this.cartServices.cartCount.next(t.numOfCartItems)}})}updateQuntity(e,t){this.cartServices.updateCart(e,t).subscribe({next:n=>{this.cartDetails=n}})}clearAll(){this.cartServices.clearCart().subscribe({next:e=>{this.toastr.error("Cart Cleared!"),this.cartDetails=e,this.cartServices.cartCount.next(e.numOfCartItems)}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["app-cart-list"]],decls:1,vars:1,consts:[[1,"container","mx-auto","my-10","bg-light","p-5","rounded"],[1,"h-screen","text-main","flex","items-center","justify-center"],[1,"flex","justify-between"],[1,"text-3xl","font-bold"],[1,"text-main","my-2"],[1,"bg-main","text-white","px-4","py-2","font-bold","rounded","cursor-pointer","hover:bg-main/80",3,"click"],[3,"product"],[1,"flex","justify-between","mt-10"],["routerLink","/products",1,"bg-main","text-white","px-4","py-2","font-bold","rounded","cursor-pointer","hover:bg-main/80"],[1,"bg-main","text-white","px-4","py-2","font-bold","rounded","cursor-pointer","hover:bg-main/80",3,"routerLink"],[1,"fa-solid","fa-chevron-right"],[3,"updateQty","removeItem","product"],[1,"text-4xl"]],template:function(t,n){t&1&&y(0,Y,2,1),t&2&&g(n.islaoded?0:-1)},dependencies:[x,F],encapsulation:2})};export{N as CartList};
