import './polyfills.server.mjs';
import{a as k}from"./chunk-F5NSYSDQ.mjs";import{a as I}from"./chunk-5OC4NN67.mjs";import{l as A}from"./chunk-BGRMLFYS.mjs";import{A as E}from"./chunk-KUJODEEJ.mjs";import{Ab as m,Gb as P,Jb as u,Lb as S,Oa as _,Ra as n,Vb as a,W as s,Wb as f,Xb as v,Zb as w,aa as C,ab as p,ba as x,hb as y,ub as T,vb as b,wb as h,xb as c,yb as o,zb as d}from"./chunk-UZBX7VKB.mjs";var M=e=>["/product-detils",e],l=class e{product={};addToCart=new y;onAddTocart(){this.addToCart.emit(this.product._id)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["product-card"]],inputs:{product:"product"},outputs:{addToCart:"addToCart"},decls:15,vars:8,consts:[[1,"product","shadow-md","my-5","hover:border","hover:border-main","rounded-2xl","p-4","cursor-pointer"],[3,"routerLink"],["alt","",1,"w-full",3,"src"],[1,"text-main/70"],[1,"text-2xs","line-clamp-1","font-bold"],[1,"flex","justify-between","my-4","px-4"],[1,"fa-solid","fa-star","text-yellow-400"],[1,"bg-main","w-full","text-white","btn","px-5","py-1","rounded","cursor-pointer",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"a",1),m(2,"img",2),o(3,"h4",3),a(4),d(),o(5,"h1",4),a(6),d(),o(7,"div",5)(8,"span"),a(9),d(),o(10,"span"),m(11,"i",6),a(12),d()()(),o(13,"button",7),u("click",function(){return r.onAddTocart()}),a(14,"add to Cart"),d()()),t&2&&(n(),c("routerLink",w(6,M,r.product._id)),n(),c("src",r.product.imageCover,_),n(2),v(" ",r.product.category.name),n(2),f(r.product.title),n(3),v("",r.product.price," L.E"),n(3),f(r.product.ratingsAverage))},dependencies:[E],encapsulation:2})};function N(e,i){if(e&1){let t=P();o(0,"product-card",2),u("addToCart",function(g){C(t);let F=S();return x(F.addToCart(g))}),d()}if(e&2){let t=i.$implicit;c("product",t)}}var D=class e{products=[];ngOnInit(){this.getAllProducts()}prodactServices=s(k);cartServices=s(I);toastr=s(A);getAllProducts(){this.prodactServices.getAllProducts().subscribe({next:i=>{this.products=i.data}})}addToCart(i){this.cartServices.addToCart(i).subscribe({next:t=>{console.log(t),t.status=="success"&&(this.cartServices.cartCount.next(t.numOfCartItems),this.toastr.success(t.message))}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-products"]],decls:4,vars:0,consts:[[1,"grid","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-6"],[3,"product"],[3,"addToCart","product"]],template:function(t,r){t&1&&(o(0,"section")(1,"div",0),b(2,N,1,1,"product-card",1,T),d()()),t&2&&(n(2),h(r.products))},dependencies:[l],encapsulation:2})};export{D as a};
